<html>
<head>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.1.min.js"> </script>

<script>

// function tabHandler(tabArray) {
    

//     $.get("http://wwhitney.scripts.mit.edu/windowsync/windowmanager.php", 
//         {type: "get"}, 
//         function(data) {
//             tablist = eval(data);

//             for(i = 0; i < tabArray.length; i++) {
//                 var tab = tabArray[i];
//                 var match = false;
//                 if (tablist != null) {
//                     for (j=0; j<tablist.length; j++) {
//                         if (tablist[j]['url'] == tab['url']) {
//                             match = true;
//                         }
//                     }
//                 }
//                 if (match) {
//                     continue;
//                 }

//                 $.get("http://wwhitney.scripts.mit.edu/windowsync/windowmanager.php", 
//                         {type: "add", url: tab['url'], tabindex: tab['index']}, function(data) {
//                 });


//             }
//             if (tablist != null) {
//                 for(i = 0; i < tablist.length; i++) {
//                     var tab = tablist[i];
//                     var match = false;
                    
//                         for (j=0; j<tabArray.length; j++) {
//                             if (tabArray[j]['url'] == tab['url']) {
//                                 match = true;
//                             }
//                         }
                    
//                     if (match) {
//                         continue;
//                     }

//                     chrome.tabs.create({'windowId': windowid, 'url': tab['url']});
//                 }

//             }

//     });
// }


// function onTabDetachedHandler(tabid, detachinfo) {
//     chrome.tabs.get(tabid, function(tab) {
//         $.get("http://wwhitney.scripts.mit.edu/windowsync/windowmanager.php", 
//             {type: "remove", url: tab['url'], function(data) {}
//         );
//     });
    
// }

// function onTabRemovedHandler(tabid, removedinfo) {
    
// }


// function windowHandler(window) {
//     windowid = window['id'];
//     chrome.tabs.getAllInWindow(window['id'], tabHandler);
// }

// chrome.tabs.onDetached.addListener(onTabRemovedHandler)
// chrome.tabs.onRemoved.addListener(onTabRemovedHandler)

// chrome.windows.getCurrent(windowHandler);


</script>

</head>

<body>

<div id='text'>Syncing...</div>

<script type="text/javascript" src="sync.js"> </script>
<script>


</script>

</body>
</html>






